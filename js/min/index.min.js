var clientWidth,clientHeight,prevScroll,scrollTop,scrollBottom,debounceRender,bodyEle=getBodyTopEle(),projectLists={},projectWorks={},currProject="softwareList";function startMain(){function e(){document.body.classList.toggle("focused",!1),document.body.classList.toggle("blurred",!0)}function t(){document.body.classList.toggle("blurred",!1),document.body.classList.toggle("focused",!0)}initElements(),window.onfocus=t,window.onblur=e;var o=debounce(function(){resize()},2);window.onresize=o,resize(),debounceRender=debounce(function(){renderCanvas()},250);var n=debounce(function(){handleWindowScroll()},10);window.onscroll=n,handleWindowScroll(),initListeners()}function initElements(){projectLists.softwareList=document.getElementById("softwareList"),projectLists.gamedevList=document.getElementById("gamedevList"),projectWorks.softwareList=projectLists.softwareList.getElementsByClassName("work"),projectWorks.gamedevList=projectLists.gamedevList.getElementsByClassName("work")}function initListeners(){var e;e=document.getElementsByClassName("navOption");for(var t=0;t<e.length;t++)e[t].addEventListener("click",function(){console.log("CLICKED");var e=document.getElementById(this.dataset.name+"Container");scrollTo(bodyEle,e.offsetTop,600)});e=document.getElementsByClassName("jobContent");for(t=0;t<e.length;t++)e[t].addEventListener("click",function(){var t=this.parentNode;if(t.classList.contains("click"))t.classList.toggle("click",!1);else{e=document.getElementsByClassName("job");for(var o=0;o<e.length;o++)e[o].classList.toggle("click",!1);t.classList.toggle("click")}});e=document.getElementsByClassName("work");for(t=0;t<e.length;t++)e[t].addEventListener("mouseenter",function(){for(var e=projectWorks[currProject],t=0;t<e.length;t++)e[t].classList.toggle("INVIEW",!1);this.classList.toggle("INVIEW",!0)});e=(e=document.getElementById("workToggles")).getElementsByClassName("workToggle");for(t=0;t<e.length;t++)e[t].addEventListener("click",function(){for(var e=document.getElementsByClassName("workToggle"),t=0;t<e.length;t++)e[t].classList.toggle("click",!1);currProject=this.dataset.name+"List",document.getElementById("workContainer").className=currProject,this.classList.toggle("click",!0)})}function handleWindowScroll(e){if(scrollTop=bodyEle.scrollTop,e||prevScroll!=scrollTop){var t,o;prevScroll=scrollTop,scrollBottom=scrollTop+clientHeight,o=(t=projectWorks[currProject]).length-1;for(var n=!1;o>=0;o--)n?t[o].classList.toggle("INVIEW",!1):scrollBottom>t[o].offsetTop+t[o].clientHeight+60?(t[o].classList.toggle("INVIEW",!0),n=!0):t[o].classList.toggle("INVIEW",!1)}}function resize(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(e!=clientWidth){clientWidth=e;try{debounceRender()}catch(e){}}clientHeight=t}function scrollTo(e,t,o){var n=t-e.scrollTop,l=Math.abs(n)/3;l>o&&(l=o),scrollToEle(e,t,l)}var scrollInt=5;function scrollToEle(e,t,o){if(!(o<=0)){var n=(t-e.scrollTop)/o*scrollInt;setTimeout(function(){e.scrollTop=e.scrollTop+n,e.scrollTop!==t&&scrollToEle(e,t,o-scrollInt)},scrollInt)}}function isArray(e){return isObject(e)&&e instanceof Array}function isObject(e){return e&&"object"==typeof e}function getBodyTopEle(){return document.scrollingElement||document.documentElement}window.debounce=function(e,t,o){var n;return function(){var l=this,s=arguments,c=o&&!n;clearTimeout(n),n=setTimeout(function(){n=null,o||e.apply(l,s)},t),c&&e.apply(l,s)}};